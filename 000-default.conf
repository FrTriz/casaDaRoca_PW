<VirtualHost *:80>
    # Define o diretório raiz para o código PHP principal (a pasta 'html')
    DocumentRoot /usr/src/app/html

    # Permite acesso à pasta raiz principal
    <Directory /usr/src/app/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    # -------------------------------------------------------------
    # O PONTO CHAVE: Mapeia a pasta 'php/Funcoes' para a URL /php/Funcoes
    # Isso permite que o navegador acesse a URL, mas o código ainda 
    # é executado de forma segura pelo Apache/PHP, sem expor os arquivos.
    # -------------------------------------------------------------
    Alias /php/Funcoes /usr/src/app/php/Funcoes
    <Directory /usr/src/app/php/Funcoes>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        # Garante que os arquivos .php sejam executados pelo PHP (e não baixados)
        SetHandler application/x-httpd-php
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>